---
import Layout from "../layouts/Layout.astro";
import Container from "../components/ui/Container.astro";
import Card from "../components/ui/Card.astro";
import Button from "../components/ui/Button.astro";

const tabs = [
    { id: "statuto", label: "Statuto" },
    { id: "regolamento", label: "Regolamento" },
    { id: "privacy", label: "Informativa Privacy" },
];
---

<Layout title="Documenti">
    <section class="py-20 bg-background-primary min-h-screen">
        <Container>
            <div class="max-w-4xl mx-auto text-center mb-12 animate-fade-in">
                <h1 class="text-5xl font-bold text-accent-primary mb-4">
                    Area Documenti
                </h1>
                <p class="text-xl text-gray-600">
                    Trasparenza e regole della nostra associazione
                </p>
            </div>

            <div class="max-w-4xl mx-auto">
                <div
                    class="flex border-b border-gray-300 mb-8 overflow-x-auto"
                    id="tabs-header"
                >
                    {
                        tabs.map((tab, index) => (
                            <button
                                data-target={tab.id}
                                class:list={[
                                    "tab-button px-6 py-4 text-xl font-medium transition-all duration-300 border-b-4 focus:outline-none whitespace-nowrap",
                                    index === 0
                                        ? "text-accent-primary border-accent-primary bg-white/50"
                                        : "text-gray-500 border-transparent hover:text-gray-700 hover:border-gray-300",
                                ]}
                            >
                                {tab.label}
                            </button>
                        ))
                    }
                </div>

                <div id="tabs-content">
                    <div id="statuto" class="tab-panel animate-fade-in">
                        <Card class="text-center py-16">
                            <div
                                class="mb-6 p-4 bg-accent-primary/10 rounded-full w-20 h-20 mx-auto flex items-center justify-center text-accent-primary"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="40"
                                    height="40"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    ><path
                                        d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"
                                    ></path><polyline points="14 2 14 8 20 8"
                                    ></polyline></svg
                                >
                            </div>
                            <h2 class="text-2xl font-bold mb-4">
                                Statuto dell'Associazione
                            </h2>
                            <p class="text-gray-600 mb-8 max-w-lg mx-auto">
                                Il documento fondante che regola la vita
                                associativa, gli scopi e l'organizzazione
                                interna di Canta Rei APS.
                            </p>
                            <Button
                                href="/assets/docs/Statuto-Canta-Rei.pdf"
                                target="_blank"
                                variant="primary"
                            >
                                <span class="flex items-center gap-2">
                                    Scarica lo Statuto (PDF)
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="18"
                                        height="18"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        ><path
                                            d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                                        ></path><polyline
                                            points="7 10 12 15 17 10"
                                        ></polyline><line
                                            x1="12"
                                            x2="12"
                                            y1="15"
                                            y2="3"></line></svg
                                    >
                                </span>
                            </Button>
                        </Card>
                    </div>

                    <div
                        id="regolamento"
                        class="tab-panel hidden animate-fade-in"
                    >
                        <Card class="text-center py-16">
                            <div
                                class="mb-6 p-4 bg-accent-primary/10 rounded-full w-20 h-20 mx-auto flex items-center justify-center text-accent-primary"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="40"
                                    height="40"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    ><path d="M2 12h20"></path><path
                                        d="M2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6"
                                    ></path><path
                                        d="M22 12A10 10 0 0 0 12 2v10Z"
                                    ></path></svg
                                >
                            </div>
                            <h2 class="text-2xl font-bold mb-4">
                                Regolamento Interno
                            </h2>
                            <p class="text-gray-600 mb-8 max-w-lg mx-auto">
                                Le norme comportamentali e organizzative per i
                                soci e i coristi, approvate dal consiglio
                                direttivo.
                            </p>
                            <Button
                                href="/assets/docs/Regolamento-Canta-Rei.pdf"
                                target="_blank"
                                variant="primary"
                            >
                                <span class="flex items-center gap-2">
                                    Scarica il Regolamento (PDF)
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="18"
                                        height="18"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        ><path
                                            d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                                        ></path><polyline
                                            points="7 10 12 15 17 10"
                                        ></polyline><line
                                            x1="12"
                                            x2="12"
                                            y1="15"
                                            y2="3"></line></svg
                                    >
                                </span>
                            </Button>
                        </Card>
                    </div>

                    <div id="privacy" class="tab-panel hidden animate-fade-in">
                        <Card class="text-center py-16">
                            <div
                                class="mb-6 p-4 bg-accent-primary/10 rounded-full w-20 h-20 mx-auto flex items-center justify-center text-accent-primary"
                            >
                                <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    width="40"
                                    height="40"
                                    viewBox="0 0 24 24"
                                    fill="none"
                                    stroke="currentColor"
                                    stroke-width="2"
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    ><rect
                                        width="18"
                                        height="11"
                                        x="3"
                                        y="11"
                                        rx="2"
                                        ry="2"></rect><path
                                        d="M7 11V7a5 5 0 0 1 10 0v4"
                                    ></path></svg
                                >
                            </div>
                            <h2 class="text-2xl font-bold mb-4">
                                Informativa Privacy
                            </h2>
                            <p class="text-gray-600 mb-8 max-w-lg mx-auto">
                                Come gestiamo e proteggiamo i dati personali dei
                                nostri soci e sostenitori, in conformit√† al
                                GDPR.
                            </p>
                            <Button
                                href="/assets/docs/informativa-privacy.pdf"
                                target="_blank"
                                variant="primary"
                            >
                                <span class="flex items-center gap-2">
                                    Scarica l'Informativa (PDF)
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="18"
                                        height="18"
                                        viewBox="0 0 24 24"
                                        fill="none"
                                        stroke="currentColor"
                                        stroke-width="2"
                                        stroke-linecap="round"
                                        stroke-linejoin="round"
                                        ><path
                                            d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"
                                        ></path><polyline
                                            points="7 10 12 15 17 10"
                                        ></polyline><line
                                            x1="12"
                                            x2="12"
                                            y1="15"
                                            y2="3"></line></svg
                                    >
                                </span>
                            </Button>
                        </Card>
                    </div>
                </div>
            </div>
        </Container>
    </section>
</Layout>

<script>
    // Logica TAB - Semplice, leggera, indistruttibile
    const buttons = document.querySelectorAll(".tab-button");
    const panels = document.querySelectorAll(".tab-panel");

    buttons.forEach((btn) => {
        btn.addEventListener("click", () => {
            const targetId = (btn as HTMLElement).dataset.target;

            // 1. Reset stile bottoni
            buttons.forEach((b) => {
                b.classList.remove(
                    "text-accent-primary",
                    "border-accent-primary",
                    "bg-white/50",
                );
                b.classList.add("text-gray-500", "border-transparent");
            });

            // 2. Attiva bottone cliccato
            btn.classList.remove("text-gray-500", "border-transparent");
            btn.classList.add(
                "text-accent-primary",
                "border-accent-primary",
                "bg-white/50",
            );

            // 3. Nascondi tutti i pannelli e mostra quello giusto
            panels.forEach((p) => p.classList.add("hidden"));
            document.getElementById(targetId!)?.classList.remove("hidden");
        });
    });
</script>
